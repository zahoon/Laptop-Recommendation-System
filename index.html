<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Laptop RAM Recommendation System (KNN)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-6">
  <div class="w-full max-w-xl bg-white shadow-lg rounded-lg p-8 mt-8">
    <h1 class="text-3xl font-bold text-center text-blue-600 mb-6">Laptop RAM Recommendation System</h1>
    <form id="ramForm" class="space-y-4">
      <div>
        <label class="block font-semibold mb-1" for="processor">Processor</label>
        <select id="processor" class="w-full border rounded p-2" required>
          <option value="">Select Processor</option>
          <option value="i3">Intel Core i3</option>
          <option value="i5">Intel Core i5</option>
          <option value="i7">Intel Core i7</option>
          <option value="ryzen3">AMD Ryzen 3</option>
          <option value="ryzen5">AMD Ryzen 5</option>
          <option value="ryzen7">AMD Ryzen 7</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold mb-1" for="storage">Storage Type</label>
        <select id="storage" class="w-full border rounded p-2" required>
          <option value="">Select Storage</option>
          <option value="hdd">HDD</option>
          <option value="ssd">SSD</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold mb-1" for="usage">Usage Type</label>
        <select id="usage" class="w-full border rounded p-2" required>
          <option value="">Select Usage</option>
          <option value="office">Office/Productivity</option>
          <option value="gaming">Gaming</option>
          <option value="design">Design/Editing</option>
          <option value="programming">Programming</option>
          <option value="basic">Basic (Browsing, Video, etc)</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold mb-1" for="budget">Budget (USD)</label>
        <input id="budget" type="number" min="200" max="3000" step="1" class="w-full border rounded p-2" required placeholder="e.g. 700" />
      </div>
      <button type="submit" class="w-full bg-blue-600 text-white font-semibold py-2 rounded hover:bg-blue-700 transition">Get Recommendation</button>
    </form>
    <div id="result" class="mt-6 hidden">
      <h2 class="text-xl font-bold text-green-600 mb-2">Recommended RAM:</h2>
      <p id="ramAmount" class="text-lg"></p>
    </div>
  </div>

  <footer class="mt-10 text-gray-500 text-xs text-center">
    &copy; 2025 Laptop RAM Recommendation System by zahoon. Powered by Tailwind CSS.
  </footer>

  <script>
    // Dummy dataset for KNN (processor, storage, usage, budget) => RAM (GB)
    const dataset = [
      {processor: 'i3', storage: 'hdd', usage: 'basic', budget: 400, ram: 4},
      {processor: 'i3', storage: 'ssd', usage: 'office', budget: 500, ram: 8},
      {processor: 'i5', storage: 'ssd', usage: 'gaming', budget: 800, ram: 16},
      {processor: 'i7', storage: 'ssd', usage: 'design', budget: 1200, ram: 32},
      {processor: 'i5', storage: 'hdd', usage: 'programming', budget: 700, ram: 8},
      {processor: 'ryzen3', storage: 'ssd', usage: 'basic', budget: 450, ram: 4},
      {processor: 'ryzen5', storage: 'ssd', usage: 'gaming', budget: 900, ram: 16},
      {processor: 'ryzen7', storage: 'ssd', usage: 'design', budget: 1500, ram: 32},
      {processor: 'i5', storage: 'ssd', usage: 'office', budget: 600, ram: 8},
      {processor: 'i7', storage: 'hdd', usage: 'gaming', budget: 1000, ram: 16},
      // ...add more for realism
    ];

    // Simple encoder for categorical features
    const encode = (val, choices) => choices.indexOf(val);

    // Euclidean distance between two samples
    function getDistance(a, b) {
      // a, b: [processor, storage, usage, budget]
      // Weigh numeric (budget) more
      let d = 0;
      for(let i=0; i<3; i++) d += Math.pow(a[i] - b[i], 2);
      d += Math.pow((a[3] - b[3])/500, 2); // scale budget
      return Math.sqrt(d);
    }

    function knnRecommendation(input, k=3) {
      const procChoices = ['i3','i5','i7','ryzen3','ryzen5','ryzen7'];
      const storChoices = ['hdd','ssd'];
      const usageChoices = ['basic','office','gaming','design','programming'];

      const inputVec = [
        encode(input.processor, procChoices),
        encode(input.storage, storChoices),
        encode(input.usage, usageChoices),
        input.budget
      ];

      // Map dataset to vectors
      const vectors = dataset.map(d => ([
        encode(d.processor, procChoices),
        encode(d.storage, storChoices),
        encode(d.usage, usageChoices),
        d.budget
      ]));

      // Get distances
      const distances = vectors.map((vec, i) => ({
        i,
        dist: getDistance(vec, inputVec)
      }));

      // Sort by distance and take k nearest
      distances.sort((a,b)=>a.dist-b.dist);

      const nearest = distances.slice(0, k);
      const ramSum = nearest.reduce((sum, n) => sum + dataset[n.i].ram, 0);
      return Math.round(ramSum / k);
    }

    document.getElementById('ramForm').addEventListener('submit', function(e){
      e.preventDefault();
      const processor = document.getElementById('processor').value;
      const storage = document.getElementById('storage').value;
      const usage = document.getElementById('usage').value;
      const budget = parseInt(document.getElementById('budget').value, 10);

      if(!processor || !storage || !usage || isNaN(budget)){
        alert('Please fill in all fields.');
        return;
      }

      const recommendedRAM = knnRecommendation({processor, storage, usage, budget});
      document.getElementById('result').classList.remove('hidden');
      document.getElementById('ramAmount').textContent = `${recommendedRAM} GB RAM is recommended for your configuration.`;
    });
  </script>
</body>
</html>